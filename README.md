# 道路旅行规划器 | Road Trip Planner

一个基于JavaFX开发的交互式道路旅行规划应用程序，帮助用户规划最佳旅行路线并优化景点游览顺序。

![应用程序截图](screenshot.png)

## 项目概述

道路旅行规划器是一个使用图论算法进行路线规划的应用程序，它允许用户选择起点、终点和多个途经景点，然后使用不同的路径规划算法计算最佳行车路线。应用程序提供了直观的地图可视化效果，展示城市、景点和优化后的旅行路线。

## 主要功能

- **城市选择**：支持模糊搜索和选择起点/终点城市
- **景点管理**：搜索、添加和移除旅途中要游览的景点
- **算法选择**：支持Dijkstra算法和改进的A*算法进行路径规划
- **路线优化**：可选择按指定顺序访问景点或由算法优化访问顺序
- **算法性能比较**：对比不同算法的性能差异（执行时间和内存使用）
- **地图可视化**：直观展示路线规划结果，包括起点、终点、途经点和路线
- **多语言支持**：支持中英文界面切换

## 技术栈

- **编程语言**：Java
- **UI框架**：JavaFX
- **构建工具**：Maven
- **图论算法**：Dijkstra算法、A*算法
- **数据结构**：图、优先队列、哈希表

## 安装和使用

### 系统要求

- Java 11或更高版本
- Maven 3.6.0或更高版本

### 快速开始

1. 克隆仓库
```
git clone https://github.com/yourusername/road-trip-planner.git
cd road-trip-planner
```

2. 使用Maven构建项目
```
mvn clean package
```

3. 运行应用程序
```
java -jar target/road-trip-planner.jar
```

或直接通过Maven运行
```
mvn javafx:run
```

## 使用指南

1. **选择城市**：
   - 在起始城市和目的地城市下拉框中选择或搜索城市
   - 可以通过模糊搜索快速定位城市

2. **选择景点**：
   - 浏览或搜索左侧列表中的可用景点
   - 使用中间的"添加"按钮将景点添加到右侧的已选景点列表
   - 使用"删除"按钮移除不需要的景点

3. **算法选项**：
   - 勾选"使用改进的A*算法"以使用A*算法，否则使用Dijkstra算法
   - 勾选"按指定顺序访问景点"以按添加顺序访问景点，否则算法会优化访问顺序

4. **计算路线**：
   - 点击"计算最佳路线"按钮计算并显示推荐路线
   - 点击"比较算法性能"可查看不同算法的性能比较结果

5. **查看结果**：
   - 右上方文本区域将显示详细的路线信息和统计数据
   - 右下方地图区域将直观显示计算出的最佳路线

## 数据格式

应用程序从以下CSV文件加载数据：

- `roads.csv`：包含城市间道路信息，格式为`城市1,城市2,距离`
- `attractions.csv`：包含景点信息，格式为`景点名称,所在城市,评分`

## 算法详解

### Dijkstra算法

应用程序使用Dijkstra算法查找两点之间的最短路径。该算法通过以下步骤工作：

1. 初始化距离图
2. 使用优先队列维护未处理节点
3. 贪心选择当前最短距离的节点进行扩展
4. 更新相邻节点的距离值
5. 重复直到找到目标节点或处理完所有可达节点

### A*算法

改进的A*算法在Dijkstra的基础上增加了启发式函数：

1. 使用估计剩余距离（启发式）来指导搜索方向
2. 优先选择"估计总距离"最小的节点进行扩展
3. 实现了更高效的路径搜索，尤其是在大型路网中

### 顺序优化

当关闭"按指定顺序访问景点"选项时，应用程序会使用近似解决旅行商问题的算法来优化景点访问顺序。

## 项目结构

```
cw/
├── src/
│   ├── main/
│   │   ├── java/
│   │   │   └── org/
│   │   │       └── example/
│   │   │           └── cw/
│   │   │               ├── RoadTripPlannerApplication.java  # 应用程序入口
│   │   │               ├── RoadTripPlannerController.java   # UI控制器
│   │   │               ├── RouteMapView.java                # 地图视图组件
│   │   │               ├── RoadNetwork.java                 # 路网数据模型
│   │   │               ├── RoutePlanner.java                # 路径规划算法
│   │   │               ├── City.java                        # 城市模型
│   │   │               ├── Attraction.java                  # 景点模型
│   │   │               └── LanguageManager.java             # 多语言支持
│   │   └── resources/
│   │       ├── data/
│   │       │   ├── roads.csv                                # 道路数据
│   │       │   └── attractions.csv                          # 景点数据
│   │       └── org/
│   │           └── example/
│   │               └── cw/
│   │                   └── road-trip-planner-view.fxml      # UI布局
└── pom.xml                                                  # Maven配置
```

## UI界面介绍

应用程序采用了现代化的UI设计风格，主要特点包括：

- **顶部标题栏**：显示应用程序名称和语言切换按钮
- **左侧面板**：包含用户输入控件，分为城市选择、景点选择和算法选项三个区域
- **右侧面板**：分为计算结果文本区域和地图可视化区域
- **地图视图**：使用不同颜色标识起点、终点、途经点和路线，并配有图例说明

UI采用了Material Design风格的配色方案，包括：
- 蓝色(#3498db)：标题栏、普通城市和按钮
- 绿色(#2ecc71)：起点和添加按钮
- 红色(#e74c3c)：终点和删除按钮
- 橙色(#f39c12)：途经点
- 紫色(#9b59b6)：路线和比较按钮

## 多语言支持

应用程序支持中英文两种语言，可以通过界面顶部的语言切换按钮进行切换。语言切换功能由`LanguageManager`类管理，所有UI文本内容都定义在语言资源文件中，确保了良好的国际化支持。

## 未来计划

- 添加更多路径规划算法
- 支持导入/导出旅行计划
- 集成实际地图服务
- 添加更多统计和分析功能
- 移动端支持

## 贡献指南

欢迎贡献代码、报告问题或提出改进建议。请遵循以下步骤：

1. Fork本仓库
2. 创建您的特性分支 (`git checkout -b feature/amazing-feature`)
3. 提交您的更改 (`git commit -m 'Add some amazing feature'`)
4. 推送到分支 (`git push origin feature/amazing-feature`)
5. 开启一个Pull Request

## 许可证

本项目采用MIT许可证 - 详见 [LICENSE](LICENSE) 文件

## 联系方式

项目维护者：您的姓名 - email@example.com

项目链接：[https://github.com/yourusername/road-trip-planner](https://github.com/yourusername/road-trip-planner) 